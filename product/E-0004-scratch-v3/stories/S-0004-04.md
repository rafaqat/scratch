---
id: S-0004-04
title: "Toggle block"
status: Done
estimate_points: 3
tags: [editor, blocks, toggle]
owner: "claude"
created_at: "2026-02-14"
started_at: "2026-02-15"
completed_at: "2026-02-15 13:03"
target_version: "v1.2.0"
commits: []
links:
  epic: E-0004-scratch-v3
---

[← Roadmap](../Scratch v3 Roadmap.md) · Editor Blocks · **1 of 3**
Prev: [← S-0004-03](S-0004-03.md) · Next: [S-0004-05 →](S-0004-05.md)

---

A collapsible toggle block (disclosure triangle) that hides/shows nested content. One of Notion's most-used block types.

## Acceptance Criteria

- [ ] Available via slash menu: `/toggle`
- [ ] Renders as a summary line with a triangle chevron
- [ ] Clicking the chevron or summary toggles the nested content
- [ ] Nested content supports any block types (paragraphs, lists, code, etc.)
- [ ] Keyboard shortcut: Cmd+Shift+T to convert current block to toggle
- [ ] Serialized to markdown as `<details>/<summary>` HTML tags
- [ ] Parsed from markdown `<details>` blocks on load
- [ ] Toggle state (open/closed) is per-session only (not persisted)

## Technical Notes

**Markdown format:**
```markdown
<details>
<summary>Toggle heading</summary>

Hidden content goes here.

</details>
```

BlockNote supports nested blocks natively. Implement as a custom block type similar to the callout block but with collapsible children. The chevron animation should feel smooth (CSS transition on rotate).

## Activity Log

| Date | Event | Details |
|------|-------|---------|
| 2026-02-14 | Created | Story added to E-0004 roadmap |
| 2026-02-15 | Started | Claimed by claude |
| 2026-02-15 13:03 | Done | All acceptance criteria met (retroactive) |
