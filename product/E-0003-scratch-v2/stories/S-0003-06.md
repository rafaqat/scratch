---
id: S-0003-06
title: "Backlinks panel"
status: In Progress
estimate_points: 3
tags: [wikilinks, frontend]
owner: "claude"
created_at: "2026-02-13"
started_at: "2026-02-13 21:34"
completed_at: ""
target_version: ""
commits: []
links:
  epic: E-0003-scratch-v2
  blockedBy: [S-0003-05]
---

[← Roadmap](../README.md) · Wikilinks · **2 of 2**
Blocked by: [S-0003-05 Wikilinks](S-0003-05.md)
Prev: [← S-0003-05](S-0003-05.md) · Next feature: [S-0003-07 Callouts →](S-0003-07.md)

---

Show "Linked mentions" at the bottom of each note.

## Acceptance Criteria

- [x] Backlinks panel below editor content showing all notes that link to current note
- [x] Each backlink shows: note title, surrounding context snippet, click to navigate
- [x] Collapsible panel (default expanded if backlinks exist)
- [x] Updates when notes are saved (incremental index update)
- [x] Backlinks index stored at `.scratch/backlinks.json`
- [x] Index rebuilt on app startup, updated incrementally on note save/delete/rename

## Technical Notes

Backlinks index format:
```json
{
  "note-id": ["linking-note-1", "linking-note-2"]
}
```

Rebuild by scanning all notes for `[[...]]` patterns on startup. On save, diff old/new wikilinks and update index. Expose via Tauri command for frontend.


## Activity Log

| Date | Event | Details |
|------|-------|---------|
| 2026-02-13 | Created | Story added to E-0003 roadmap |
| 2026-02-13 | Started | Claimed by claude, implementation begun |
| 2026-02-13 | Design | Rust backend: `rebuild_backlinks_index` + `get_backlinks` + `update_backlinks_for_note` commands. Index stored at `.scratch/backlinks.json` mapping lowercase title -> array of `{noteId, noteTitle, context}`. Frontend: `BacklinksPanel` component below editor, collapsible, shows title + context snippet + click-to-navigate. Index rebuilt on startup in `set_notes_folder`, updated incrementally in `save_note_impl` and `delete_note_impl`. |
